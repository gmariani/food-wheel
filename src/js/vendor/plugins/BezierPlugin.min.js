/*!
 * VERSION: beta 1.14
 * DATE: 2012-12-14
 * JavaScript (also available in AS3 and AS2)
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * Copyright (c) 2008-2012, GreenSock. All rights reserved. 
 * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for 
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
(window._gsQueue||(window._gsQueue=[])).push(function(){_gsDefine("plugins.BezierPlugin",["plugins.TweenPlugin"],function(F){var z=function(){F.call(this,"bezier",-1);this._overwriteProps.pop();this._func={};this._round={}},E=z.prototype=new F("bezier",1),I=180/Math.PI,J=Math.PI/180,A=[],B=[],C=[],G={},D=function(a,e,g,n){this.a=a;this.b=e;this.c=g;this.d=n;this.da=n-a;this.ca=g-a;this.ba=e-a},K=z.bezierThrough=function(a,e,g,n,j,b){var c={},f=[],d,k,q;j="string"===typeof j?","+j+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,";
null==e&&(e=1);for(k in a[0])f.push(k);A.length=B.length=C.length=0;for(d=f.length;-1<--d;){k=f[d];G[k]=-1!==j.indexOf(","+k+",");q=c;var s=k,p;p=a;var m=k,w=G[k],l=b,t=[],r=void 0,h=void 0,v=void 0,u=void 0,x=void 0,r=void 0;if(l){p=[l].concat(p);for(h=p.length;-1<--h;)if("string"===typeof(r=p[h][m]))"="===r.charAt(1)&&(p[h][m]=l[m]+Number(r.charAt(0)+r.substr(2)))}r=p.length-2;if(0>r)t[0]=new D(p[0][m],0,0,p[-1>r?0:1][m]);else{for(h=0;h<r;h++)v=p[h][m],u=p[h+1][m],t[h]=new D(v,0,0,u),w&&(x=p[h+
2][m],A[h]=(A[h]||0)+(u-v)*(u-v),B[h]=(B[h]||0)+(x-u)*(x-u));t[h]=new D(p[h][m],0,0,p[h+1][m])}p=t;q[s]=p}for(d=A.length;-1<--d;)A[d]=Math.sqrt(A[d]),B[d]=Math.sqrt(B[d]);if(!n){for(d=f.length;-1<--d;)if(G[k]){a=c[f[d]];q=a.length-1;for(j=0;j<q;j++)b=a[j+1].da/B[j]+a[j].da/A[j],C[j]=(C[j]||0)+b*b}for(d=C.length;-1<--d;)C[d]=Math.sqrt(C[d])}for(d=f.length;-1<--d;){k=f[d];a=c[k];j=e;b=g;q=n;k=G[k];s=a.length-1;p=0;for(var m=a[0].a,y=x=u=l=r=u=v=r=h=v=t=l=w=void 0,w=0;w<s;w++)h=a[p],l=h.a,t=h.d,v=a[p+
1].d,k?(u=A[w],x=B[w],y=0.25*(x+u)*j/(q?0.5:C[w]||0.5),r=t-(t-l)*(q?0.5*j:y/u),v=t+(v-t)*(q?0.5*j:y/x),u=t-(r+(v-r)*(3*u/(u+x)+0.5)/4)):(r=t-0.5*(t-l)*j,v=t+0.5*(v-t)*j,u=t-(r+v)/2),r+=u,v+=u,h.c=r,h.b=0!==w?m:m=h.a+0.6*(h.c-h.a),h.da=t-l,h.ca=r-l,h.ba=m-l,b?(l=H(l,m,r,t),a.splice(p,1,l[0],l[1],l[2],l[3]),p+=4):p++,m=v;h=a[p];h.b=m;h.c=m+0.4*(h.d-m);h.da=h.d-h.a;h.ca=h.c-h.a;h.ba=m-h.a;b&&(l=H(h.a,m,h.c,h.d),a.splice(p,1,l[0],l[1],l[2],l[3]))}return c},H=z.cubicToQuadratic=function(a,e,g,n){var j=
{a:a},b={},c={},f={c:n},d=(a+e)/2,k=(e+g)/2;g=(g+n)/2;e=(d+k)/2;var k=(k+g)/2,q=(k-e)/8;j.b=d+(a-d)/4;b.b=e+q;j.c=b.a=(j.b+b.b)/2;b.c=c.a=(e+k)/2;c.b=k-q;f.b=g+(n-g)/4;c.c=f.a=(c.b+f.b)/2;return[j,b,c,f]};z.quadraticToCubic=function(a,e,g){return new D(a,(2*e+a)/3,(2*e+g)/3,g)};E.constructor=z;z.API=2;z._cssRegister=function(){var a=window.com.greensock.plugins.CSSPlugin;if(a){var a=a._internals,e=a._parseToProxy,g=a._setPluginRatio,n=a.CSSPropTween;a._registerComplexSpecialProp("bezier",null,function(a,
b,c,f,d,k){b instanceof Array&&(b={values:b});k=new z;var q=b.values,s=q.length-1,p=[];c={};var m,w,l;if(0>s)return d;for(m=0;m<=s;m++)l=e(a,q[m],f,d,k,s!==m),p[m]=l.end;for(w in b)c[w]=b[w];c.values=p;d=new n(a,"bezier",0,0,l.pt,2);d.data=l;d.plugin=k;d.setRatio=g;0===c.autoRotate&&(c.autoRotate=!0);c.autoRotate&&!(c.autoRotate instanceof Array)&&(m=!0===c.autoRotate?0:Number(c.autoRotate)*J,c.autoRotate=null!=l.end.left?[["left","top","rotation",m,!0]]:null!=l.end.x?[["x","y","rotation",m,!0]]:
!1);c.autoRotate&&(f._transform||(a=f._enableTransforms(!1,d,k),a._next=d._next,a._prev=d,d._next=a,d._prev=null),l.autoRotate=f._target._gsTransform);k._onInitTween(l.proxy,c,f._tween);return d})}};E._onInitTween=function(a,e,g){this._target=a;e instanceof Array&&(e={values:e});this._props=[];this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution);var n=e.values||[],j={},b=n[0];g=e.autoRotate||g.vars.orientToBezier;var c,f,d;this._autoRotate=g?g instanceof Array?g:[["x","y","rotation",
!0===g?0:Number(g)||0]]:null;for(c in b)this._props.push(c);for(b=this._props.length;-1<--b;)c=this._props[b],this._overwriteProps.push(c),g=this._func[c]="function"===typeof a[c],j[c]=!g?parseFloat(a[c]):a[c.indexOf("set")||"function"!==typeof a["get"+c.substr(3)]?c:"get"+c.substr(3)](),d||j[c]!==n[0][c]&&(d=j);if("cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type)j=K(n,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,d);else{g=(g=e.type)||"soft";e={};d="cubic"===g?3:2;g=
"soft"===g;var b=[],k,q,s,p,m,w,l,t,r;g&&j&&(n=[j].concat(n));if(null==n||n.length<d+1)throw"invalid Bezier data";for(q in n[0])b.push(q);for(w=b.length;-1<--w;){q=b[w];e[q]=m=[];r=0;t=n.length;for(l=0;l<t;l++)k=null==j?n[l][q]:"string"===typeof(s=n[l][q])&&"="===s.charAt(1)?j[q]+Number(s.charAt(0)+s.substr(2)):Number(s),g&&1<l&&l<t-1&&(m[r++]=(k+m[r-2])/2),m[r++]=k;t=r-d+1;for(l=r=0;l<t;l+=d)k=m[l],q=m[l+1],s=m[l+2],p=2===d?0:m[l+3],m[r++]=s=3===d?new D(k,q,s,p):new D(k,(2*q+k)/3,(2*q+s)/3,s);m.length=
r}j=e}this._beziers=j;this._segCount=this._beziers[c].length;if(this._timeRes){b=this._beziers;c=this._timeRes;c=c>>0||6;j=[];q=[];n=s=0;e=c-1;d=[];g=[];for(f in b){k=b[f];m=j;w=c;l=1/w;t=k.length;for(var h=void 0,v=void 0,u=p=r=v=void 0,x=h=void 0,y=void 0,y=u=void 0;-1<--t;){u=k[t];v=u.a;r=u.d-v;p=u.c-v;u=u.b-v;v=0;for(x=1;x<=w;x++)h=l*x,y=1-h,h=v-(v=(h*h*r+3*y*(h*p+y*u))*h),y=t*w+x-1,m[y]=(m[y]||0)+h*h}}b=j.length;for(f=0;f<b;f++)s+=Math.sqrt(j[f]),k=f%c,g[k]=s,k===e&&(n+=s,k=f/c>>0,d[k]=g,q[k]=
n,s=0,g=[]);this._length=n;this._lengths=q;this._segments=d;this._l1=this._li=this._s1=this._si=0;this._l2=this._lengths[0];this._curSeg=this._segments[0];this._s2=this._curSeg[0];this._prec=1/this._curSeg.length}if(g=this._autoRotate){g[0]instanceof Array||(this._autoRotate=g=[g]);for(b=g.length;-1<--b;)for(f=0;3>f;f++)c=g[b][f],this._func[c]="function"===typeof a[c]?a[c.indexOf("set")||"function"!==typeof a["get"+c.substr(3)]?c:"get"+c.substr(3)]:!1}return!0};E.setRatio=function(a){var e=this._segCount,
g=this._func,n=this._target,j,b,c,f,d;if(this._timeRes){j=this._lengths;f=this._curSeg;a*=this._length;b=this._li;if(a>this._l2&&b<e-1){for(e-=1;b<e&&(this._l2=j[++b])<=a;);this._l1=j[b-1];this._li=b;this._curSeg=f=this._segments[b];this._s2=f[this._s1=this._si=0]}else if(a<this._l1&&0<b){for(;0<b&&(this._l1=j[--b])>=a;);0===b&&a<this._l1?this._l1=0:b++;this._l2=j[b];this._li=b;this._curSeg=f=this._segments[b];this._s1=f[(this._si=f.length-1)-1]||0;this._s2=f[this._si]}j=b;a-=this._l1;b=this._si;
if(a>this._s2&&b<f.length-1){for(e=f.length-1;b<e&&(this._s2=f[++b])<=a;);this._s1=f[b-1];this._si=b}else if(a<this._s1&&0<b){for(;0<b&&(this._s1=f[--b])>=a;);0===b&&a<this._s1?this._s1=0:b++;this._s2=f[b];this._si=b}f=(b+(a-this._s1)/(this._s2-this._s1))*this._prec}else j=0>a?0:1<=a?e-1:e*a>>0,f=(a-j*(1/e))*e;e=1-f;for(b=this._props.length;-1<--b;)if(a=this._props[b],c=this._beziers[a][j],d=(f*f*c.da+3*e*(f*c.ca+e*c.ba))*f+c.a,this._round[a]&&(d=d+(0<d?0.5:-0.5)>>0),g[a])n[a](d);else n[a]=d;if(this._autoRotate){var e=
this._autoRotate,k,q,s,p,m;for(b=e.length;-1<--b;)a=e[b][2],p=e[b][3]||0,m=!0===e[b][4]?1:I,c=this._beziers[e[b][0]][j],d=this._beziers[e[b][1]][j],k=c.a+(c.b-c.a)*f,q=c.b+(c.c-c.b)*f,k+=(q-k)*f,q+=(c.c+(c.d-c.c)*f-q)*f,c=d.a+(d.b-d.a)*f,s=d.b+(d.c-d.b)*f,c+=(s-c)*f,s+=(d.c+(d.d-d.c)*f-s)*f,d=Math.atan2(s-c,q-k)*m+p,g[a]?g[a].call(n,d):n[a]=d}};E._roundProps=function(a,e){for(var g=this._overwriteProps,n=g.length;-1<--n;)if(a[g[n]]||a.bezier||a.bezierThrough)this._round[g[n]]=e};E._kill=function(a){var e=
this._props,g,n;for(g in this._beziers)if(g in a){delete this._beziers[g];delete this._func[g];for(n=e.length;-1<--n;)e[n]===g&&e.splice(n,1)}return F.prototype._kill.call(this,a)};F.activate([z]);return z},!0)});window._gsDefine&&_gsQueue.pop()();